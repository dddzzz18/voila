struct memcell {
  int f;
}

region Cell(id c, memcell x)
  guards { duplicable G; }
  interpretation { x.f |-> ?n }
  state { n }
  actions { G: ?m ~> Int; }

abstract_atomic void test02(id c, memcell x)
  requires Cell(c, x, ?v);
  ensures Cell(c, x, ?w);
  ensures v == w; // OK
{
  skip;
}

void test03(id c, memcell x)
  requires Cell(c, x, ?v);
  ensures Cell(c, x, ?w);
  //:: ExpectedOutput(postcondition_error:assertion_error)
  ensures v == w;
{
  skip;
}

